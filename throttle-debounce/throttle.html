<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script>
      $(function () {
        //节流函数：个人理解：是周期性的执行操作；例如滑动：在滑动过程中是也需要去加载。
        // function throttle (fn, delay) {
        //     var timeout = true;
        //     return  function () {
        //         if(!timeout) {
        //             return
        //         }
        //         timeout = false
        //         timeout = setTimeout(() => {
        //             fn.apply(this, arguments);
        //             timeout = true;
        //         }, delay)
        //     }
        // }

        function throttle (fn, wait) {
          var pre = Date.now()
          return function () {
            var context = this
            var args = arguments
            var now = Date.now()
            if (now - pre >= wait) {
              fn.apply(context, args)
              pre = Date.now()
            }
          }
        }

        //    测试
        function testThrottle (e) {
          console.log('节流', Math.random())
        }

        window.addEventListener('scroll', throttle(testThrottle, 1000))

      })

    </script>
</head>
<body>
<div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
    <div>Hello. 节流函数</div>
</div>

</body>
</html>
